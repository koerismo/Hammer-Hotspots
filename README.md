# Hammer Hotspots
A plugin to add [hotspotting](https://developer.valvesoftware.com/wiki/Half-Life:_Alyx_Workshop_Tools/Level_Design/Hotspot_Texturing) to Hammer World Editor.

> [!WARNING]
> This plugin is currently nonfunctional!

Progress Checklist:

- [X] Overrides "fit" functionality when a rectmap is available.
- [X] Matches faces to correct rects
    - [X] Aspect ratio checking
    - [X] Aspect limited-error randomization
    - [ ] World-space size weighting
- [ ] Detects rectmap definitions in material VMTs
- [ ] Loads rectmap files from the engine filesystem


## Creating RectMaps

This plugin uses a binary format to store the locations of each hotspot rect. These follow a relatively simple [specification](./generator/specification.md), and can be generated by the provided `generator` module.

This program takes a single image parameter, and generates a `.rect` file of the same name. Rects are created at the bounds wherever there are unique colors. Input images should be composed of rectangles of solid colors where each hotspot rect should be. Make sure no two rectangles have the same color!

```
npm run generate <imagePath>
```

## Using RectMaps

> [!WARNING]
> This, and I cannot stress this enough, will not work. Because the plugin isn't finished.

To inform the plugin that the rectmap exists, add it to your material's VMT as follows:

```
VertexLitGeneric {
    $basetexture "..."
    $bumpmap "..."
    // etc.

    %RectMap "mytexture_rects.rect"
}
```
